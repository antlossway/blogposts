---
title: "create personal site with next.js and mdx"
date: "2023-06-11"
description: "tech note for this project"
tags: ['next.js']
---

# Create Personal Site With Next.js 13 (app router) and MDX

## Test on-demand revalidate
in browser:
http://localhost:3000/api/revalidate?path=/blog/[slug]&secret=somethingonlymeknow

replace http://localhost:3000 to the real domain once deployed

the secret is set in .env.local MY_SECRET_TOKEN

## Project Setup
```bash
    npx create-next-app@latest mysite
    npn run dev
```

## File Tree of app folder

![file tree](/img/file-tree.webp)

## MDX

below is from [next.js document](https://nextjs.org/docs/app/building-your-application/configuring/mdx)

> [Markdown](https://daringfireball.net/projects/markdown/syntax) is a lightweight markup language used to format text. It allows you to write using plain text syntax and convert it to structurally valid HTML.

This sentence has `code` using backticks

## horizontal line to separate sections

---

## link that is open in new tab, below seems not working

<a href="https://daringfireball.net/projects/markdown/syntax" target="_blank">
  Markdown
</a>

## Images

1. local image (in the same repository /public/img)

use relative path for the source URL like this: /img/avatar.png

2. remote image hosted on github (in my blogpost repository)

use URL like this: https://raw.githubusercontent.com/[account]/blogposts/main/images/avatar.png

## Static Site Generation (SSG) or Server Side Rendering (SSR)

It's recommended to use SSG whenever possible because the pages can be built once and served by CDN, which makes the page loading super fast.
If the page can be pre-rendered **ahead** of a user's request, then we should choose SSG.

The typical use cases includes:
- Blog posts
- Landing pages
- Documentation
- Product listing

On the other hand, if the page content change requently, we should use SSR instead.
SSR is slower than SSG, but the pre-rended page will always be up-to-date.
Or we can skip pre-rendering and use client-side Javascript to populate data, which surely will be slower than SSR.

## Test generateStaticParams

```bash
#in order to test ISR(incremental Static Regeneration), we need to build project
npm run build 
```

> Incremental static regeneration (ISR) is the architecture behind Next.js that allows pages to be updated after a site has been built and deployed.
Compared to server-side rendered (SSR) pages and statically-generated pages, ISR pages have distinct advantages. They are not rebuilt for each user, so they load quickly 


## Reference
<Video id="6ih_3m_UPKg" />

<Button text="test button" />


